<div>
  <h1>Delivery Statuses Info</h1>
</div>
<div style="margin: 30px">
  <form (ngSubmit)="onSubmit()">
    <label for="status" style="display: block">Status*</label>
    <input id="status" [(ngModel)]="status.status" name="status"
           type="text" placeholder="Enter status" required>
    <br>

    <label for="location" style="display: block">Location</label>
    <input id="location" [(ngModel)]="status.location" name="location"
           type="text" placeholder="Enter location">
    <br>

    <label for="statusDate" style="display: block">Status Date</label>
    <input id="statusDate" [(ngModel)]="status.statusDate" name="statusDate"
           type="datetime-local">
    <br>

    <label for="deliveryID" style="display: block">Delivery ID*</label>
    <input id="deliveryID" [(ngModel)]="status.deliveryID" name="deliveryID"
           type="number" placeholder="Enter delivery ID" required>
    <br>

    <button class="form-button" type="submit">{{update ? 'Update' : 'Create'}} status</button>
    @if(update) {
      <br>
      <button class="form-button" (click)="clickCancelButton()">Cancel</button>
    }
  </form>
</div>

<div>
  <table>
    <thead>
    <tr>
      <th>ID</th>
      <th>Status</th>
      <th>Location</th>
      <th>Status Date</th>
      <th>Delivery ID</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
      @for (status of statuses; track status.deliveryStatusID) {
        <tr>
          <td>{{status.deliveryStatusID}}</td>
          <td>{{status.status}}</td>
          <td>{{status.location}}</td>
          <td>{{status.statusDate}}</td>
          <td>{{status.deliveryID}}</td>
          <td>
            <button (click)="clickUpdateButton(status)">Update</button>
            <span> | </span>
            <button (click)="clickDeleteButton(status.deliveryStatusID!)">Delete</button>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>
